---
title: MQ队列学习
tags: 学习笔记
categories:
- 技术笔记
---
# MQ队列学习

## 定义

消息队列（Message Queue），本质上是一个队列，先进先出，但是队列中存储的内容是消息。

## 作用
用于解耦，两个不同的程序直接，如果需要通信的话，可以根据实际情况使用MQ。

两个进程A、B需要通信，如果直接采用调用的方式，A、B耦合太高，如果他们的通讯还设计到时间顺序问题，耦合会更复杂。我自己写了一个油猴脚本，就是这样涉及到两个页面通讯问题，页面2工作结束后需要给页面1发送消息，然后进行下一步操作。我最开始是设置的定时任务，但是由于作业时长不一致，会导致出现莫名的错误。这个问题也不一定要用MQ，可以用设计模式，比如：发布-订阅;可以使用监听本地存储。

## 什么情况可以使用

1.高并发的流量削峰

2.应用解耦

3.异步处理

4.分布式事务

5.数据分发



## RabbitMQ安装、启动问题


在windows上安装，报错：
```
BOOT FAILED
===========
ERROR: could not bind to distribution port 25672, it is in use by another node: rabbit
```

问题原因：

windows手动安装RabbitMQ,会自动在windows“服务和应用程序”中启动RabbitMQ服务，需要在“服务和应用程序”，把RabbitMQ服务修改成手动启动，并把服务停掉，用命令行启动该服务。